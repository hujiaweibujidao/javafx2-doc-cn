<!DOCTYPE html>
<html>
 <head> 
  <meta charset="utf-8" /> 
  <title>JavaFX in Swing Applications &middot; Deploying JavaFX Applications &middot; JavaFx 2 中文文档</title> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0" /> 
  <meta name="keywords" content="JavaFx JavaFx2 JavaFx文档 JavaFx2文档 JavaFx2中文文档 JavaFx中文文档" /> 
  <meta name="description" content="JavaFx 2 中文文档" /> 
  <meta name="author" content="" /> 
  <!-- Le styles --> 
  <link href="../../assets/css/bootstrap.css" rel="stylesheet" /> 
  <link href="../../assets/css/bootstrap-responsive.css" rel="stylesheet" /> 
  <link href="../../assets/css/docs.css" rel="stylesheet" /> 
  <link href="../../assets/js/google-code-prettify/prettify.css" rel="stylesheet" /> 
  <link media="screen,projection" href="../../assets/css/ui.totop.css" rel="stylesheet" /> 
  <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements --> 
  <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--> 
  <!-- Le fav and touch icons --> 
  <link rel="shortcut icon" href="../../assets/ico/favicon.ico" /> 
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../assets/ico/apple-touch-icon-144-precomposed.png" /> 
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../assets/ico/apple-touch-icon-114-precomposed.png" /> 
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../assets/ico/apple-touch-icon-72-precomposed.png" /> 
  <link rel="apple-touch-icon-precomposed" href="../../assets/ico/apple-touch-icon-57-precomposed.png" /> 
  <script src="../../assets/js/ga.js"></script> 
 </head> 
 <body data-spy="scroll" data-target=".subnav" data-offset="50"> 
  <!-- Navbar
    ================================================== --> 
  <div class="navbar navbar-fixed-top"> 
   <div class="navbar-inner"> 
    <div class="container"> 
     <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> 
     <a class="brand" href="../../index.html">JavaFx 2 中文文档</a> 
     <div class="nav-collapse collapse"> 
      <ul class="nav"> 
       <li class=""><a href="../../index.html"><i class="icon icon-home icon-white"></i> 首页</a></li> 
       <li class="divider-vertical"></li> 
       <li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">入门<b class="caret"></b></a> 
        <ul class="dropdown-menu"> 
         <li><a href="../../2/overview/jfxpub-overview.htm">什么是JavaFx？</a></li> 
         <li><a href="../../2/get_started/jfxpub-get_started.htm">开始使用JavaFx</a></li> 
         <li><a href="../../2/fxml_get_started/jfxpub-fxml_get_started.htm">开始使用FXML</a></li> 
        </ul> </li> 
       <li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">用户界面<b class="caret"></b></a> 
        <ul class="dropdown-menu"> 
         <li><a href="../../2/layout/jfxpub-layout.htm">使用布局</a></li> 
         <li><a href="../../2/text/jfxpub-text.htm">添加文本</a></li> 
         <li><a href="../../2/ui_controls/jfxpub-ui_controls.htm">使用用户界面控件</a></li> 
         <li><a href="../../2/events/jfxpub-events.htm">处理事件</a></li> 
         <li><a href="../../2/charts/jfxpub-charts.htm">创建图表</a></li> 
         <li><a href="../../2/webview/jfxpub-webview.htm">添加HTML内容</a></li> 
         <li><a href="../../2/css_tutorial/jfxpub-css_tutorial.htm">使用CSS为应用程序设置皮肤</a></li> 
         <li><a href="../../2/drag_drop/jfxpub-drag_drop.htm">拖放数据</a></li> 
        </ul> </li> 
       <li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">效果&middot;动画&middot;媒体<b class="caret"></b></a> 
        <ul class="dropdown-menu"> 
         <li><a href="../../2/visual_effects/jfxpub-visual_effects.htm">创建视觉效果</a></li> 
         <li><a href="../../2/transformations/jfxpub-transformations.htm">添加二维和三维变形</a></li> 
         <li><a href="../../2/animations/jfxpub-animations.htm">添加过渡和动画</a></li> 
         <li><a href="../../2/media/jfxpub-media.htm">嵌入媒体</a></li> 
        </ul> </li> 
       <li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">应用程序逻辑<b class="caret"></b></a> 
        <ul class="dropdown-menu"> 
         <li><a href="../../2/architecture/jfxpub-architecture.htm">架构和框架</a></li> 
         <li><a href="../../2/scenegraph/jfxpub-scenegraph.htm">使用场景图</a></li> 
         <li><a href="../../2/binding/jfxpub-binding.htm">使用属性和绑定</a></li> 
         <li><a href="../../2/collections/jfxpub-collections.htm">使用集合</a></li> 
         <li><a href="../../2/threads/jfxpub-threads.htm">并发和线程</a></li> 
        </ul> </li> 
       <li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">部署和更多<b class="caret"></b></a> 
        <ul class="dropdown-menu"> 
         <li><a href="../../2/deployment/jfxpub-deployment.htm">打包和部署</a></li> 
         <li><a href="../../2/swing/jfxpub-swing.htm">在Swing中使用JavaFx</a></li> 
         <li><a href="../../2/swt_interoperability/jfxpub-swt_interoperability.htm">与SWT的互操作性</a></li> 
         <li><a href="../../2/doclet/jfxpub-doclet.htm">使用Doclet</a></li> 
        </ul> </li> 
       <li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">参考<b class="caret"></b></a> 
        <ul class="dropdown-menu"> 
         <li><a href="http://docs.oracle.com/javafx/2/api/index.html" target="_blank"><i class="icon-share icon"></i> API文档</a></li> 
         <li><a href="http://docs.oracle.com/javafx/2/api/javafx/scene/doc-files/cssref.html" target="_blank"><i class="icon-share icon"></i> CSS参考指南</a></li> 
         <li><a href="http://docs.oracle.com/javafx/2/api/javafx/fxml/doc-files/introduction_to_fxml.html" target="_blank"><i class="icon-share icon"></i> FXML简介</a></li> 
        </ul> </li> 
       <li class="divider-vertical"></li> 
       <li class=""><a href="../../more.html"><i class="icon icon-plus-sign icon-white"></i> 更多精彩</a></li> 
       <li class=""><a href="../../license.html"><i class="icon icon-book icon-white"></i> 许可说明</a></li> 
       <li class=""><a href="../../about.html"><i class="icon icon-user icon-white"></i> 关于我们</a></li> 
      </ul> 
     </div> 
    </div> 
   </div> 
  </div> 
  <div class="row"> 
   <div id="container" class="container span9 offset1"> 
    <!-- Masthead
================================================== --> 
    <header class="jumbotron subhead" id="overview"> 
     <!-- Insert Header Here! --> 
     <h1>Deploying JavaFX Applications</h1>
     <p class=" lead">JavaFX in Swing Applications</p>
     <ul class=" pager">
      <li class=" previous"><a href="preloaders.htm">←上一篇</a></li>
      <li class=" next"><a href="packager.htm">下一篇→</a></li>
     </ul>
     <hr />
    </header>
    <div id="ind"> 
     <!-- /////////////// Start content copied from DARB output ////////////// --> 
     <a id="BACFDACD" name="BACFDACD"></a>
     <a id="JFXDP497" name="JFXDP497"></a>  
     <a id="JFXDP541" name="JFXDP541"></a> 
     <p>You can create Swing applications with embedded JavaFX content. This page describes how to deploy such applications.</p> 
     <p>This page contains the following topics:</p> 
     <ul> 
      <li> <p><a href="#CIHECFCB">Section 8.1, &quot;Overview of Swing-JavaFX Application Deployment&quot;</a></p> </li> 
      <li> <p><a href="#CIHDJDCF">Section 8.2, &quot;Deploying Swing/JavaFX Web Start Applications&quot;</a></p> </li> 
      <li> <p><a href="#CIHCHHIE">Section 8.3, &quot;Deploying Swing/JavaFX Applications as Applets&quot;</a></p> </li> 
     </ul> 
     <a id="CIHECFCB" name="CIHECFCB"></a>
     <a id="JFXDP542" name="JFXDP542"></a> 
     <div class="sect1"> 
      <h2 class="sect1"><span class="secnum">8.1</span> Overview of Swing-JavaFX Application Deployment</h2> 
      <p>To deploy a <a href="../swing/jfxpub-swing.htm">Swing application with embedded JavaFX content</a> on the web, follow the steps to deploy a regular Java application as a Web Start (JNLP) application or applet. See the Java Tutorials lessons on <a href="../../../../docs.oracle.com/javase/tutorial/deployment/applet/default.htm">Java applets</a> and <a href="../../../../docs.oracle.com/javase/tutorial/deployment/webstart/deploying.html">Web Start application</a>.</p> 
      <p>After you produce a deployment descriptor for either the applet or the Web Start application, you must modify it to express the dependency on the JavaFX runtime by using the <code>&lt;javafx-runtime&gt;</code> tag from the <code>javafx</code> namespace.</p> 
      <p><a href="#BACDAJCE">Example 8-1</a> shows an example that shows the following required modifications to the deployment descriptor:</p> 
      <ul> 
       <li> <p>Define <code>jfx</code> as the prefix used for the <code>javafx</code> namespace.</p> </li> 
       <li> <p>Add a &lt;resources&gt; element in which you specify the <code>jfx:runtime</code> dependency on JavaFX 2.1 for Windows platforms.</p> </li> 
      </ul> 
      <p>These modifications are shown in bold in <a href="#BACDAJCE">Example 8-1</a>.</p> 
      <div class="example">
       <a id="BACDAJCE" name="BACDAJCE"></a>
       <a id="JFXDP498" name="JFXDP498"></a> 
       <p class="titleinexample">Example 8-1 Modify the Deployment Descriptor</p> 
       <pre xml:space="preserve" class="oac_no_warn prettyprint linenums">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;jnlp spec=&quot;1.0&quot;
<span class="bold">        xmlns:jfx=&quot;http://javafx.com&quot;</span>
        href=&quot;SwingAppWithJavaFXContent.jnlp&quot;
        ...&gt;
     ....
    <span class="bold">&lt;resources os=&quot;Windows&quot;&gt;</span>
        <span class="bold">&lt;jfx:javafx-runtime version=&quot;2.1+&quot; </span>
            <span class="bold">href=&quot;http://javadl.sun.com/webapps/download/GetFile/</span>
                    <span class="bold">javafx-latest/windows-i586/javafx2.jnlp&quot;/&gt;</span>
    <span class="bold">&lt;/resources&gt;</span>
    ...
&lt;/jnlp&gt; 
</pre>
      </div> 
      <!-- class="example" --> 
      <p>No changes are required on the HTML side. However, you may also use the JavaFX Deployment Toolkit to integrate your content with the web page, as shown in the following examples.</p> 
     </div> 
     <!-- class="sect1" --> 
     <a id="CIHDJDCF" name="CIHDJDCF"></a>
     <a id="JFXDP499" name="JFXDP499"></a> 
     <div class="sect1">
      <!-- infolevel="all" infotype="General" --> 
      <h2 class="sect1"><span class="secnum">8.2</span> Deploying Swing/JavaFX Web Start Applications</h2> 
      <p><a href="#BACICIID">Example 8-2</a> shows example web page code for launching a Swing Web Start application. This code is the same as that used to launch JavaFX applications.</p> 
      <div class="example">
       <a id="BACICIID" name="BACICIID"></a>
       <a id="JFXDP500" name="JFXDP500"></a> 
       <p class="titleinexample">Example 8-2 Scripts and Markup in HTML Page for a Web Start Application</p> 
       <pre xml:space="preserve" class="oac_no_warn prettyprint linenums">
&lt;html&gt;
    &lt;head&gt;
            &lt;SCRIPT src=&quot;http://java.com/js/dtjava.js&quot;&gt;&lt;/SCRIPT&gt;
            &lt;script&gt;
                function launchApplication(jnlpfile) {
                dtjava.launch(
                    { url : jnlpfile },
                    { javafx : '2.1+' },
                    {}
                );
                return false;
            }
        &lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h2&gt;Test page&lt;/h2&gt;
        &lt;a href='SampleApp.jnlp' 
        onclick=&quot;return launchApplication('SampleApp.jnlp');&quot;&gt;Click&lt;/a&gt; 
        to launch test app.
    &lt;/body&gt;
&lt;/html&gt;
</pre>
      </div> 
      <!-- class="example" --> 
      <p><a href="#BACICIID">Example 8-2</a> is simplistic, but you can use other features of the <code>dtjava.launch()</code> method in the Deployment Toolkit for Swing applications, as needed. For example, you can embed the JNLP file into the web page for faster startup. However, JavaFX deployment tools (Ant tasks and the Javafx Packager tool) currently cannot autogenerate the web pages for you. The JavaScript code must be edited manually.</p> 
      <p>For more examples that show the use of the Deployment Toolkit, see <a href="deployment_toolkit.htm#BABJHEJA">Deployment in the Browser</a>.</p> 
     </div> 
     <!-- class="sect1" --> 
     <a id="CIHCHHIE" name="CIHCHHIE"></a>
     <a id="JFXDP501" name="JFXDP501"></a> 
     <div class="sect1">
      <!-- infolevel="all" infotype="General" --> 
      <h2 class="sect1"><span class="secnum">8.3</span> Deploying Swing/JavaFX Applications as Applets</h2> 
      <p>Deploying Swing applets is similar to embedding JavaFX applications in the browser, with the following caveats:</p> 
      <ul> 
       <li> <p>You must hide the HTML splash screen in your Java code. See <a href="#BACBGBJB">Hide the HTML Splash Screen</a>.</p> </li> 
       <li> <p>You are encouraged to use the Deployment Toolkit to deploy your application. See <a href="#BACDHBIH">Using the Deployment Toolkit for Swing Applications</a>.</p> </li> 
      </ul> 
      <a id="BACBGBJB" name="BACBGBJB"></a>
      <a id="JFXDP502" name="JFXDP502"></a> 
      <div class="sect2"> 
       <h3 class="sect2"><span class="secnum">8.3.1</span> Hide the HTML Splash Screen</h3> 
       <p>Swing applications do not have a default preloader, so there is no code to hide the HTML splash screen when the application is ready. To address this difference, do one of following:</p> 
       <ul> 
        <li> <p>Add code to explicitly hide the HTML splash screen when your application is ready, by using LiveConnect to call the JavaScript function <code>dtjava.hideSplash()</code> from Java code, shown in bold in <a href="#BACIDIJC">Example 8-3</a>.</p> 
         <div class="example">
          <a id="BACIDIJC" name="BACIDIJC"></a>
          <a id="JFXDP503" name="JFXDP503"></a> 
          <p class="titleinexample">Example 8-3 Hide the HTML Splash Screen in Java Code</p> 
          <pre xml:space="preserve" class="oac_no_warn prettyprint linenums">
Applet myApplet = ...;
//appId is id used in the dtjava.embed() call String appId = &quot;sampleApp&quot;;
 
JSObject window = JSObject.getWindow(myApplet);
try {
<span class="bold">    window.eval(&quot;dtjava.hideSplash(&quot;+appId+&quot;);&quot;);</span>
} catch(Throwable t) {
    ...
}
</pre>
         </div> 
         <!-- class="example" --> <p>See the tutorial on LiveConnect for further information about the use of JavaScript from Java applets at</p> <p><code><a href="../../../../jdk6.java.net/plugin2/liveconnect/default.htm">http://jdk6.java.net/plugin2/liveconnect/</a></code></p> </li> 
        <li> <p>Use the Deployment Toolkit to add an <code>onGetSplash</code> handler that returns null, as shown in <a href="#BACCGJFC">Example 8-4</a> and in the topic <a href="deployment_toolkit.htm#BABHJEIF">Disable the HTML Splash Screen</a>.</p> 
         <div class="example">
          <a id="BACCGJFC" name="BACCGJFC"></a>
          <a id="JFXDP504" name="JFXDP504"></a> 
          <p class="titleinexample">Example 8-4 Add an onGetSplash Handler to the Web Page Script</p> 
          <pre xml:space="preserve" class="oac_no_warn prettyprint linenums">
&lt;html&gt;
    &lt;head&gt;
        &lt;SCRIPT src=&quot;http://java.com/js/dtjava.js&quot;&gt;&lt;/SCRIPT&gt;
        &lt;script&gt;
            function embedApp() {
                dtjava.embed(
                    {
                                 id : 'sampleApp',
                                url : 'SampleApp_browser.jnlp',
                        placeholder : 'app-placeholder',
                              width : 960,
                             height : 720
                    },
                    {},
                    { <span class="bold">onGetSpalsh: function() {} } //disable splash</span>
                );
            }
            &lt;!-- Embed Swing application into web page after page is loaded --&gt;
            dtjava.addOnloadCallback(embedApp);
        &lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h2&gt;Test page&lt;/h2&gt;
        &lt;!-- Applet will be inserted here --&gt;
        &lt;div id='javafx-app-placeholder'&gt;&lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</pre>
         </div> 
         <!-- class="example" --></li> 
       </ul> 
      </div> 
      <!-- class="sect2" --> 
      <a id="BACDHBIH" name="BACDHBIH"></a>
      <a id="JFXDP505" name="JFXDP505"></a> 
      <div class="sect2"> 
       <h3 class="sect2"><span class="secnum">8.3.2</span> Using the Deployment Toolkit for Swing Applications</h3> 
       <p>Beside the example shown in <a href="#BACCGJFC">Example 8-4</a>, you can use other Deployment Toolkit functionality to check for the presence of the JavaFX Runtime and request that the user download it. The procedures are the same as for JavaFX applications. See <a href="deployment_toolkit.htm#BABJHEJA">Deployment in the Browser</a> for information. For example, see the example of specifying platform requirements and passing JVM properties in <a href="deployment_toolkit.htm#BABDBCFA">Specify Platform Requirements and Pass JVM Options</a>.</p> 
       <p>Use of the Deployment Toolkit is highly recommended, because it ensures that the user has the correct version of the JavaFX Runtime installed. If you expect that your Swing application will be run without the Deployment Toolkit, then for the best user experience, check if JavaFX classes are available before trying to use them, and plan a fallback scenario if they are not available.</p> 
      </div> 
      <!-- class="sect2" -->
     </div> 
     <!-- class="sect1" --> 
     <!-- /////////////// End content copied from DARB output ////////////// --> 
    </div> 
    <!-- Insert Sections Here! --> 
    <!-- Footer
      ================================================== --> 
    <footer class="footer"> 
     <!-- UY BEGIN --> 
     <div id="uyan_frame"></div> 
     <script type="text/javascript" id="UYScript" src="http://v1.uyan.cc/js/iframe.js?UYUserId=1529249" async=""></script> 
     <!-- UY END --> 
    </footer> 
   </div>
   <div class=" span3" style="padding-top: 110px;">
    <div class=" well">
     <ul class=" nav nav-list">
      <li class=" nav-header">本章目录</li>
      <li><a href="jfxpub-deployment.htm">About This Guide</a></li>
      <li><a href="deploy_quick_start.htm">Getting Started</a></li>
      <li><a href="deploy_overview.htm">Application Execution Modes</a></li>
      <li><a href="deploy_user_experience.htm">Application Startup</a></li>
      <li><a href="packaging.htm">Packaging</a></li>
      <li><a href="deployment_toolkit.htm">Deployment in the Browser</a></li>
      <li><a href="javafx_javascript.htm">JavaFX and JavaScript</a></li>
      <li><a href="preloaders.htm">Preloaders</a></li>
      <li class=" active"><a href="deploy_swing_apps.htm">JavaFX in Swing Applications</a></li>
      <li><a href="packager.htm">The JavaFX Packager Tool</a></li>
      <li><a href="packager001.htm">JavaFX Packager Command-Line Syntax</a></li>
      <li><a href="javafx_ant_task_reference.htm">JavaFX Ant Tasks</a></li>
      <li><a href="javafx_ant_task_reference001.htm">Reference: JavaFX Ant Tasks</a></li>
      <li><a href="javafx_ant_task_reference002.htm">Reference: JavaFX Ant Helper Parameters</a></li>
      <li><a href="troubleshooting.htm">Troubleshooting</a></li>
      <li class=" divider"></li>
      <li class=" nav-header">版本信息</li>
      <li>平台版本：JavaFX 2.1</li>
      <li>翻译编辑：(未翻译)</li>
      <li>最后更新：2012年7月28日</li>
     </ul>
    </div>
   </div>
   <!-- /container --> 
  </div> 
  <!-- JiaThis Button BEGIN --> 
  <script type="text/javascript">var jiathis_config = {data_track_clickback:true};</script> 
  <script type="text/javascript" src="http://v3.jiathis.com/code/jiathis_r.js?type=left&amp;move=0&amp;btn=l2.gif&amp;uid=1529249" charset="utf-8"></script> 
  <!-- JiaThis Button END --> 
  <!-- Le javascript
    ================================================== --> 
  <!-- Placed at the end of the document so the pages load faster --> 
  <script src="../../assets/js/jquery.min.js"></script> 
  <script src="../../assets/js/easing.js" type="text/javascript"></script> 
  <script src="../../assets/js/jquery.ui.totop.min.js" type="text/javascript"></script> 
  <script src="../../assets/js/google-code-prettify/prettify.js"></script> 
  <script type="text/javascript">
		$(document).ready(function() {
			/*
			var defaults = {
	  			containerID: 'toTop', // fading element id
				containerHoverID: 'toTopHover', // fading element hover id
				scrollSpeed: 1200,
				easingType: 'linear' 
	 		};
			*/
			$().UItoTop({ easingType: 'easeOutQuart' });
		});
	</script> 
  <script src="../../assets/js/bootstrap.min.js"></script> 
  <script src="../../assets/js/application.js"></script>   
 </body>
</html>